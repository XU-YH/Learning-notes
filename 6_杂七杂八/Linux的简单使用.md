# Linux的简单使用

## 常用命令

### 处理目录

**ls**: 列出目录

**cd**：切换目录

**pwd**：显示目前的目录

**mkdir**：创建一个新的目录

**rmdir**：删除一个空的目录

**cp**: 复制文件或目录

**rm**: 移除文件或目录

**mv**: 移动文件与目录，或修改文件与目录的名称

### 文件内容查看

**cat** 由第一行开始显示文件内容

**tac** 从最后一行开始显示，可以看出 tac 是 cat 的倒著写！

**nl**  显示的时候，顺道输出行号！

**more** 一页一页的显示文件内容

**less** 与 more 类似，但是比 more 更好的是，他可以往前翻页！

**head** 只看头几行

**tail** 只看尾巴几行

​	tail [-n number] 文件 

​	-n ：后面接数字，代表显示几行的意思

​	-f ：表示持续侦测后面所接的档名，要等到按下[ctrl]-c才会结束tail的侦测

### vi/vim 使用

<img src="C:\Users\不知\Desktop\vim-vi-workmodel.png" style="zoom: 67%;" />

|      | 指令行的储存、离开等指令                                     |
| ---- | ------------------------------------------------------------ |
| :w   | 将编辑的数据写入硬盘档案中(常用)                             |
| :w!  | 若文件属性为『只读』时，强制写入该档案。不过，到底能不能写入， 还是跟你对该档案的档案权限有关啊！ |
| :q   | 离开 vi (常用)                                               |
| :q!  | 若曾修改过档案，又不想储存，使用 ! 为强制离开不储存档案。    |
| :wq  | 储存后离开，若为 :wq! 则为强制储存后离开 (常用)              |

### yum命令

 yum 基于RPM包管理，能够从指定的服务器自动下载RPM包并且安装，可以自动处理依赖性关系，并且一次安装所有依赖的软体包，无须繁琐地一次次下载、安装。

```
yum [options] [command] [package ...]
```

- **options：**可选，选项包括-h（帮助），-y（当安装过程提示选择全部为"yes"），-q（不显示安装的过程）等等。
- **command：**要进行的操作。
- **package**操作的对象。

常用命令：

- 1.列出所有可更新的软件清单命令：yum check-update
- 2.更新所有软件命令：yum update
- 3.仅安装指定的软件命令：yum install <package_name>
- 4.仅更新指定的软件命令：yum update <package_name>
- 5.列出所有可安裝的软件清单命令：yum list
- 6.删除软件包命令：yum remove <package_name>
- 7.查找软件包 命令：yum search <keyword>

### 进程命令

 **ps命令** ：ps -aux|grep java
① 查看所有进程：ps -A
② 列出不和本终端有关的进程：ps -a
③ 列出有效使用者相关的进程：ps -u
④ 显示包含其他使用者的进程：ps aux 

参数：
 USER 进程拥有者
 PID 进程ID
 CPU 占用CPU使用率
 MEM 占用内存使用率
 VSZ 占用虚拟内存大小
 RSS 占用内存大小
 TTY 运行终端的号码
 STAT 进程状态（D不可中断、R运行中、S休眠、T暂停、Z僵尸进程、W没有足够内存可分配、<高优先级进程、N低优先级进程）
 START 进程开始时间
 TIME 累计使用CPU时间
 COMMAND 执行命令

**top命令：实时监控系统的状态**

PID：进程id；
 USER：进程拥有者；
 PR：进程优先级；
 NI：负值表示高优先级，正值表示低优先级；
 VIRT：进程使用的虚拟内存总量，单位kb，VIRT = SWAP+RES；
 RES：进程使用的未被换出的物理内存大小，单位kb，RES=CODE + DATA；
 SHR：共享内存大小，单位kb；
 %CPU：上次更新到现在的CPU时间占用百分比；
 %MEM：进程使用的物理内存百分比；
 TIME+：进程使用的CPU时间总计，单位为1/100秒；
 COMMAND：进程名称（命令名 / 命令行）；

**进程的终止**

1. kill -1 PID 重启服务
2. kill -9 PID 强行杀死进程
3. kill -15 PID 正常结束

### 其它

reboot：重启系统
mount /dev/cdrom /mnt ：重新挂载光盘

free：显示系统内存使用情况，，free -h

```shell
./usr/local/nginx/sbin/nginx：启动nginx
nginx -s stop
nginx -s reload
```

```shell
#   通过ll命令查看进程目录
ll /proc/pid
cwd 进程运行目录
exe 执行程序的绝对路径
cmdline 程序运行时输入的命令行命令
environ 记录了进程运行时的环境变量
fd 目录下是进程打开或使用的文件的符号连接
```



## **Linux目录结构**

**系统启动必须：**

- **/boot：**存放的启动Linux 时使用的内核文件，包括连接文件以及镜像文件。

- **/etc：**存放**所有**的系统需要的**配置文件**和**子目录列表，**更改目录下的文件可能会导致系统不能启动。

- **/lib**：存放基本代码库（比如c++库），其作用类似于Windows里的DLL文件。几乎所有的应用程序都需要用到这些共享库。

- **/sys**： 这是linux2.6内核的一个很大的变化。该目录下安装了2.6内核中新出现的一个文件系统 sysfs 。sysfs文件系统集成了下面3种文件系统的信息：针对进程信息的proc文件系统、针对设备的devfs文件系统以及针对伪终端的devpts文件系统。该文件系统是内核设备树的一个直观反映。当一个内核对象被创建的时候，对应的文件和目录也在内核对象子系统中

**指令集合：**

- **/bin：**存放着最常用的程序和指令

- **/sbin：**只有系统管理员能使用的程序和指令。

**外部文件管理：**

- **/dev ：**Device(设备)的缩写, 存放的是Linux的外部设备。**注意：**在Linux中访问设备和访问文件的方式是相同的。

- **/media**：类windows的**其他设备，**例如U盘、光驱等等，识别后linux会把设备放到这个目录下。

- **/mnt**：临时挂载别的文件系统的，我们可以将光驱挂载在/mnt/上，然后进入该目录就可以查看光驱里的内容了。

**临时文件：**

- **/run**：是一个临时文件系统，存储系统启动以来的信息。当系统重启时，这个目录下的文件应该被删掉或清除。如果你的系统上有 /var/run 目录，应该让它指向 run。

- **/lost+found**：一般情况下为空的，系统非法关机后，这里就存放一些文件。

- **/tmp**：这个目录是用来存放一些临时文件的。

**账户：**

- **/root**：系统管理员的用户主目录。

- **/home**：用户的主目录，以用户的账号命名的。

- **/usr**：用户的很多应用程序和文件都放在这个目录下，类似于windows下的program files目录。

- **/usr/bin：**系统用户使用的应用程序与指令。

- **/usr/sbin：**超级用户使用的比较高级的管理程序和系统守护程序。

- **/usr/src：**内核源代码默认的放置目录。

**运行过程中要用：**

- **/var**：存放经常修改的数据，比如程序运行的日志文件（/var/log 目录下）。

- **/proc**：管理**内存空间！**虚拟的目录，是系统内存的映射，我们可以直接访问这个目录来，获取系统信息。这个目录的内容不在硬盘上而是在内存里，我们也可以直接修改里面的某些文件来做修改。

**扩展用的：**

- **/opt**：默认是空的，我们安装额外软件可以放在这个里面。

- **/srv**：存放服务启动后需要提取的数据**（不用服务器就是空）**